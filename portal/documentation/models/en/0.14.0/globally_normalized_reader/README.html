{% verbatim %}
<p>The minimum PaddlePaddle version needed for the code sample in this directory is v0.11.0. If you are on a version of PaddlePaddle earlier than v0.11.0, <a href="http://www.paddlepaddle.org/docs/develop/documentation/en/build_and_install/pip_install_en.html">please update your installation</a>.</p>
<hr/>
<h1>Globally Normalized Reader</h1>
<p>This model implements the work in the following paper:</p>
<p>Jonathan Raiman and John Miller. Globally Normalized Reader. Empirical Methods in Natural Language Processing (EMNLP), 2017.</p>
<p>If you use the dataset/code in your research, please cite the above paper:</p>
<div class="highlight"><pre><span></span>@inproceedings{raiman2015gnr,
    author={Raiman, Jonathan and Miller, John},
    booktitle={Empirical Methods in Natural Language Processing (EMNLP)},
    title={Globally Normalized Reader},
    year={2017},
}
</pre></div>
<p>You can also visit https://github.com/baidu-research/GloballyNormalizedReader to get more information.</p>
<h1>Installation</h1>
<ol>
<li>Please use <a href="http://doc.paddlepaddle.org/develop/doc/getstarted/build_and_install/docker_install_en.html">docker image</a> to install the latest PaddlePaddle, by running:
    <div class="highlight"><pre><span></span>docker pull paddledev/paddle
</pre></div></li>
<li>Download all necessary data by running:
    <div class="highlight"><pre><span></span><span class="nb">cd</span> data <span class="o">&amp;&amp;</span> ./download.sh <span class="o">&amp;&amp;</span> <span class="nb">cd</span> ..
</pre></div></li>
<li>Preprocess and featurizer data:
    <div class="highlight"><pre><span></span>python featurize.py --datadir data --outdir data/featurized  --glove-path data/glove.840B.300d.txt
</pre></div></li>
</ol>
<h1>Training a Model</h1>
<ul>
<li>
<p>Configurate the model by modifying <code>config.py</code> if needed, and then run:</p>
<div class="highlight"><pre><span></span>python train.py <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">|</span> tee train.log
</pre></div>
</li>
</ul>
<h1>Inferring by a Trained Model</h1>
<ul>
<li>Infer by a trained model by running:
   <div class="highlight"><pre><span></span>python infer.py <span class="se">\</span>
  --model_path models/pass_00000.tar.gz <span class="se">\</span>
  --data_dir data/featurized/ <span class="se">\</span>
  --batch_size <span class="m">2</span> <span class="se">\</span>
  --use_gpu <span class="m">0</span> <span class="se">\</span>
  --trainer_count <span class="m">1</span> <span class="se">\</span>
  <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">|</span> tee infer.log
</pre></div></li>
</ul>
{% endverbatim %}